## react-hook常见面试题

### 问 ：hook设计的初衷

#### 改进React 组件的开发模式（即类组件开发的问题）

1. ##### 组件之间难以复用状态逻辑

  - 不是很复杂的时候 上HOC 或者render pops
  - 如多级组件共享状态 只能上redux或者mobx等相关状态管理的库了

2. ##### 复杂的组件变得难以理解

  - 对于一个事件要在多个生命周期中处理，分散不集中 （比如订阅和取消订阅  添加监听事件和取消监听事件）
  - 一个生命周期里 要处理多个事件

3. ##### this指向问题

4. ##### 类难以做编译优化

### 问：React hook使用的限制是什么？ 为什么有这样的限制

#### 不要在循环、条件或嵌套函数中调用 Hook

- 只要 Hook 的调用顺序在多次渲染之间保持一致，React 就能正确地将内部 state 和对应的 Hook 进行关联
- hook是基于链表实现的  要确保 Hooks 在每次渲染时都保持同样的执行顺序  如果在循环、条件或者嵌套中调用hook会导致取值错位 执行错误的hook
- 实例

  - 在条件语句中使用hook

    - 第一次渲染true 执行
    - 第二次渲染 false 不执行
    - 两次的顺序完全不同

#### 在 React 的函数组件中调用 Hook

基于类组件中的this指向问题 所以只能在函数组件中使用

### 问：如何规避错误的使用 hook

使用ESLint  （ESLint 中引入 eslint-plugin-react-hooks）

### 问：谈谈hook的设计模式

降低了用户的心智负担 ，以useEffect的方式替代生命周期的方式，一个effect集中处理事件的订阅取消等全套动作，更多聚焦于依赖项